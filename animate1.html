<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div{
            width: 200px;
            height: 200px;
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <input type="button" value="按钮">
    <div></div>
    <script src="aniMath.js"></script>
    <script>
        // 用最简单的动画逻辑，封装
        // 1.程序的执行时间  中间算法 最终的
        // 动画方式  由快到慢的动画方式  算法
        // 初始值  100    结束值  200
        // 匀速运动   50ms/5
        // 200-100=100/5
        // 50  20   16
        // 需要程序是可控的  动画时间要可控
        // 动画时间可控：change  c 变化值 time t当前运行的时间  duration  d持续的时间   begin  b  开始的值
        // 匀速运动  begin+change*t/d

        var btn=document.querySelector("input")
        var div=document.querySelector("div")
        btn.onclick=function(){
            // animate(div,"width",1000,1000)
            animate(div,{
                width:400,
                height:400,
                marginLeft:400
            },1000,Tween.Linner)
        }
        
        function animate(obj,attrObj,duration,fn){
            if(obj.nodeType==1){
                console.error("对象的类型不对")
                return
            }
            var start=[]
            var change=[]
            var time=0
            var fn=fn||Tween.Linner
            
            for(var i in attrObj){
                start[i]=parseInt(getComputedStyle(obj,null)[i])
                change[i]=attrObj[i]-start[i]
            }

            console.log(start)
            console.log(change)
        }

        // function animate(obj,attr,end,duration,fn){
        //     var start=parseInt(getComputedStyle(obj,null)[attr])
        //     var change =end-start
        //     var time=0
        //     var t=setInterval(function(){
        //         time+=50
        //         obj.style[attr]=Tween.Bounce.easeOut(start+change*time/duration+"px")
        //         if(time>=duration){
        //             obj.style[attr]=end+"px"
        //             clearInterval(t)
        //         }
        //     },50)
        // }


        // function animate(obj,attr,end){
        //     var t=setInterval(function(){
        //         var start=parseInt(getComputedStyle(obj,null)[attr])
                
        //         var speed=end-speed>0?Math.ceil((end-start)/5):Math.floor((end-start)/5)
                
        //         var val=start+speed
        //         obj.style[attr]=val+"px"
        //         if(val==end){
        //             clearInterval(t)
        //         }


        //     },50)
        // }
        
        



    </script>
</body>
</html>